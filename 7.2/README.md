#			C# 7.2
#### Содержание: ####

[Семантика ссылок с типами значений](https://github.com/sharpist/C_Sharp/tree/master/7.2#Семантика-ссылок-с-типами-значений)

[Неконечные именованные аргументы](https://github.com/sharpist/C_Sharp/tree/master/7.2#Неконечные-именованные-аргументы)

[Начальные символы подчеркивания в числовых литералах](https://github.com/)

[Модификатор доступа private protected](https://github.com/)

___________________________________________________________________
##			"Семантика ссылок с типами значений"

Работа с типами значений с использованием семантики ссылок повышает
производительность за счёт использования минимального числа
операций копирования типов значений без выделения памяти в связи с
применением ссылочных типов.

#### В число новых возможностей входят: ####

* модификатор ```in``` для параметров, указывающий, что аргумент
передаётся по ссылке (доступной только для чтения), но не
изменяется вызываемым методом.

Данные модификаторы указывают, что тип значения передаётся по
ссылке, предотвращая копирование, в противном случае – типы
значений копируются при передаче в вызываемый метод:

```out``` – метод задает значение аргумента, используемого в качестве
этого параметра.
```ref``` – метод может задавать значение аргумента, используемого в
качестве этого параметра.
```in``` – метод не изменяет значение аргумента, используемого в
качестве этого параметра.

```
// расстояние между двумя точками в трехмерном пространстве
static double CalculateDistance(in Point3D point1,
                                in Point3D point2)
{
    var xDifference = point1.X - point2.X;
    var yDifference = point1.Y - point2.Y;
    var zDifference = point1.Z - point2.Z;

    return Math.Sqrt(xDifference * xDifference +
                     yDifference * yDifference +
                     zDifference * zDifference);
}
```
Аргументами являются две структуры, каждая из которых содержит три
типа double (размер 8 байт), следовательно, каждый аргумент равен
24 байтам.
Указывая модификатор ```in```, этим аргументам передаётся 4- или
8-байтовая ссылка.
Модификатор ```in``` может применяться к любому члену, который принимает
параметры (методы, делегаты, лямбда-выражения, локальные функции,
индексаторы, операторы).
В отличие от аргументов ```ref``` и ```out```, аргумент параметра ```in```
поддерживает литеральные значения или константы. Кроме того, в
отличие от параметра ```ref``` или ```out```, не нужно применять модификатор ```in```
на точке вызова.
Две локальные переменные, передаются по ссылке:
```
var distance = CalculateDistance(pt1, pt2);
```
#### пропуск модификатора ```in``` в месте вызова сообщает компилятору, что ####
#### он может сделать копию аргумента по следующим причинам: ####
1. выполняется неявное преобразование, но не преобразование
идентичности из типа аргумента в тип параметра.
2. аргумент является выражением, но не имеет известную переменную
хранения.
3. существует перегрузка, которая отличается наличием или
отсутствием ```in```, перегрузка по значению подходит лучше.

Внутри вызываемого метода можно вызвать любой метод экземпляра,
который использует параметры передачи по значению. В этих
экземплярах создается копия параметра ```in```.
Допускается указать значения по умолчанию для любого параметра ```in```.
```
static double CalculateDistance(in Point3D point1,
                                in Point3D point2 = default)
{
    var xDifference = point1.X - point2.X;
    var yDifference = point1.Y - point2.Y;
    var zDifference = point1.Z - point2.Z;

    return Math.Sqrt(xDifference * xDifference +
                     yDifference * yDifference +
                     zDifference * zDifference);
}
```

* модификатор ```ref readonly``` для возвращаемого значения метода,
указывающий, что метод возвращает значение по ссылке, но не
допускает операции записи в соответствующий объект.

* объявление ```readonly struct```, указывающее, что структура является
неизменяемой и должна передаваться в методы члена как параметр ```in```.

* объявление ```ref struct```, указывающее, что тип структуры обращается
напрямую к управляемой памяти и всегда должен обрабатываться с
выделением стека.
___________________________________________________________________
##			"Неконечные именованные аргументы"

